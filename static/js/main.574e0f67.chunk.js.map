{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.module.css","components/Container/Container.js","services/image-finder-api.js","components/Searchbar/Searchbar.js","Images/default.jpeg","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","imagesApi","searchQuery","currentPage","axios","get","then","data","hits","Searchbar","state","query","handelChange","e","setState","currentTarget","value","handelSubmit","preventDefault","props","onSubmit","styles","searchbar","searchForm","this","type","searchButton","searchLabel","searchInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","src","alt","galleryItem","galleryImage","defaultProps","defaultImage","ImageGallery","images","onImageClick","imageGallery","onClick","map","id","webformatURL","tags","Button","button","data-action","reactLoaderSpinner","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","App","largeImage","isLoading","error","onChangeQuery","fetchImages","options","prevState","catch","finally","currentImage","find","image","largeImageURL","onModalClose","prevProps","length","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderLoadMoreButton","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.574e0f67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__QDCHF\",\"galleryImage\":\"ImageGalleryItem_galleryImage__2eVcr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__20iVM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3tQ9A\"};","import React from \"react\";\nimport \"../../components/Container/Container.module.css\"\n\nconst Container = ({ children }) => <div className='Container'>{children}</div>;\n\nexport default Container;","import axios from \"axios\";\n\nconst API_KEY = '21328560-05cd5dc1340cc7c21280a8fdd';\n\nconst imagesApi = ({ searchQuery = '', currentPage = 1 }) => {\n    return axios\n        .get(\n            `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n        )\n\n        .then(({ data }) => data.hits);\n};\n\nexport default imagesApi;","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from '../../components/Searchbar/Searchbar.module.css'\n\nclass Searchbar extends Component {\n    state = { query: '' };\n  \n    handelChange = e => {\n      this.setState({ query: e.currentTarget.value });\n    };\n  \n    handelSubmit = e => {\n      e.preventDefault();\n  \n      this.props.onSubmit(this.state.query);\n      this.setState({ query: '' });\n    };\n  \n    render() {\n  \n      return (\n        <header className={styles.searchbar}>\n          <form className={styles.searchForm} onSubmit={this.handelSubmit}>\n            <button type=\"submit\" className={styles.searchButton}>\n              <span className={styles.searchLabel}>Search</span>\n            </button>\n  \n            <input\n              className={styles.searchInput}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              value={this.state.query}\n              onChange={this.handelChange}\n            />\n          </form>\n        </header>\n      );\n    }\n  }\n  \n  Searchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n  \n  export default Searchbar;","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpeg\";","import React from 'react'; \nimport PropTypes from \"prop-types\";\nimport defaultImage from '../../Images/default.jpeg';\nimport styles from '../../components/ImageGalleryItem/ImageGalleryItem.module.css'\n\nconst ImageGalleryItem = ({ src, alt }) => (\n    <li className={styles.galleryItem}>\n      <img \n        src={src} \n        alt={alt} \n        className={styles.galleryImage} />\n    </li>\n  );\n\n  ImageGalleryItem.defaultProps = {\n    src: defaultImage,\n    alt: \"No images to show\",\n  };\n  \n  ImageGalleryItem.propTypes = {\n    src: PropTypes.string,\n    alt: PropTypes.string,\n  };\n  \n  export default ImageGalleryItem;\n ","import PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport styles from '../../components/ImageGallery/ImageGallery.module.css'\n\n\nconst ImageGallery = ({ images, onImageClick }) => (\n    <ul className={styles.imageGallery} onClick={onImageClick}>\n      {images.map(({ id, webformatURL, tags }) => (\n        <ImageGalleryItem key={id} src={webformatURL} alt={tags} />\n      ))}\n    </ul>\n  );\n\n\nImageGallery.propTypes = {\n    images: PropTypes.array.isRequired,\n    onImageClick: PropTypes.func.isRequired,\n    // id: PropTypes.number.isRequired,\n    // webformatURL: PropTypes.string.isRequired,\n    // tags: PropTypes.string.isRequired,\n  };\n\nexport default ImageGallery;","import PropTypes from \"prop-types\";\nimport styles from '../../components/Button/Button.module.css'\n\nconst Button = ({ onClick }) => (\n  <button \n    type=\"button\"\n    className={styles.button}\n    data-action=\"load-more\" \n    onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;","import Loader from \"react-loader-spinner\";\n\nconst reactLoaderSpinner = () => (\n    <div className=\"Loader\">\n      <Loader \n      type=\"Puff\" \n      color=\"#00bfff\" \n      height={100} \n      width={100}\n      timeout={3000} />\n    </div>\n  );\n\nexport default reactLoaderSpinner;","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport styles from '../../components/Modal/Modal.module.css'\nimport defaultImage from \"../../Images/default.jpeg\";\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n\n    return createPortal(\n      <div className={styles.overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.modal}>\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.defaultProps = {\n  src: defaultImage,\n  alt: \"unfortunately image was loaded with error\",\n};\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  alt: PropTypes.string,\n};\n\nexport default Modal;","import React, { Component } from \"react\";\nimport Container from \"./components/Container\";\nimport imagesApi from './services/image-finder-api';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    largeImage: {\n      src: \"\",\n      alt: \"\",\n    },\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n\n    if (this.state.images.length > 12) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n  \n      imagesApi(options)\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n\n  onImageClick = (e) => {\n    if (e.target !== e.currentTarget) {\n      const currentImage = this.state.images.find(\n        (image) => image.webformatURL === e.target.src\n      );\n\n      const src = currentImage.largeImageURL;\n      const alt = currentImage.tags;\n\n      this.setState({ largeImage: { src, alt } });\n    }\n  };\n\n  onModalClose = () => {\n    this.setState({\n      largeImage: {\n        src: \"\",\n        alt: \"\",\n      },\n    });\n  };\n\n\n  render() {\n    const { isLoading, images, largeImage, error } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n     return (\n         <Container>\n            {error && <Loader />}\n            \n            <Searchbar onSubmit={this.onChangeQuery} />\n\n            {error && (\n              <h1>\n                An error occurred while loading the image\n              </h1>\n            )}\n\n            <ImageGallery images={images} onImageClick={this.onImageClick} />\n\n             {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n\n             {largeImage.src && (\n                <Modal\n                  src={largeImage.src}\n                  alt={largeImage.alt}\n                  onClose={this.onModalClose}\n                />\n              )}\n         </Container>\n     );\n }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"searchForm\":\"Searchbar_searchForm__23jwf\",\"searchButton\":\"Searchbar_searchButton__1Ml9x\",\"searchLabel\":\"Searchbar_searchLabel__2Tcnc\",\"searchInput\":\"Searchbar_searchInput__1DwaM\"};"],"sourceRoot":""}